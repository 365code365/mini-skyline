<view class="page">
  <!-- 商品图片 -->
  <view class="product-image">
    <icon type="success" size="80" color="#FF6B35"></icon>
  </view>

  <!-- 商品信息 -->
  <view class="product-info">
    <view class="price-row">
      <text class="price">¥{{product.price}}</text>
      <text class="original-price" wx:if="{{product.originalPrice}}">¥{{product.originalPrice}}</text>
    </view>
    <text class="product-name">{{product.name}}</text>
    <text class="product-desc">{{product.desc}}</text>
    <view class="meta-row">
      <text class="meta">销量 {{product.sales}}</text>
      <text class="meta">库存 {{product.stock}}</text>
    </view>
  </view>

  <!-- 规格选择 -->
  <view class="spec-section">
    <text class="spec-title">规格选择</text>
    <view class="spec-row">
      <view class="spec-item {{item.selected ? 'active' : ''}}" wx:for="{{specs}}" wx:key="id" bindtap="onSelectSpec" data-index="{{index}}">
        <text>{{item.name}}</text>
      </view>
    </view>
  </view>

  <!-- 数量选择 -->
  <view class="qty-section">
    <text class="qty-label">购买数量</text>
    <view class="qty-box">
      <view class="qty-btn" bindtap="onDecrease">
        <text>-</text>
      </view>
      <text class="qty-num">{{quantity}}</text>
      <view class="qty-btn" bindtap="onIncrease">
        <text>+</text>
      </view>
    </view>
  </view>

  <!-- 商品详情 -->
  <view class="detail-section">
    <text class="detail-title">商品详情</text>
    <text class="detail-text">{{product.detail}}</text>
  </view>

  <!-- 底部空白，避免被 action-bar 遮挡 -->
  <view class="bottom-space"></view>

  <!-- 底部操作 (fixed) -->
  <view class="action-bar">
    <view class="action-left">
      <view class="action-item" bindtap="onGoHome">
        <icon type="success" size="24" color="#666"></icon>
        <text>首页</text>
      </view>
      <view class="action-item" bindtap="onGoCart">
        <icon type="waiting" size="24" color="#666"></icon>
        <text>购物车</text>
      </view>
    </view>
    <view class="action-right">
      <button class="cart-btn" bindtap="onAddCart">加入购物车</button>
      <button class="buy-btn" type="primary" bindtap="onBuyNow">立即购买</button>
    </view>
  </view>
</view>
