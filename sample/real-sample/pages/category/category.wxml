<view class="page">
  <view class="category-container">
    <!-- 左侧分类菜单 -->
    <scroll-view class="category-left" scroll-y="{{true}}">
      <view class="category-item {{item.id === activeCategory ? 'active' : ''}}"
            wx:for="{{categories}}"
            wx:key="id"
            bindtap="onCategoryChange"
            data-id="{{item.id}}">
        <text class="category-text">{{item.name}}</text>
      </view>
    </scroll-view>

    <!-- 右侧商品列表 -->
    <scroll-view class="category-right" scroll-y="{{true}}" scroll-top="{{scrollTop}}">
      <!-- 子分类 -->
      <view class="subcategory-section" wx:if="{{subcategories.length > 0}}">
        <view class="subcategory-title">热门分类</view>
        <view class="subcategory-list">
          <view class="subcategory-item"
                wx:for="{{subcategories}}"
                wx:key="id"
                bindtap="onSubCategoryTap"
                data-id="{{item.id}}">
            <view class="subcategory-icon" style="background-color: {{item.color}};">
              <icon type="{{item.icon}}" size="20" color="#fff"></icon>
            </view>
            <text class="subcategory-name">{{item.name}}</text>
          </view>
        </view>
      </view>

      <!-- 商品列表 -->
      <view class="product-section">
        <view class="section-title">
          <text>全部商品 ({{products.length}})</text>
        </view>
        <view class="product-list">
          <view class="product-item"
                wx:for="{{products}}"
                wx:key="id"
                bindtap="onProductTap"
                data-id="{{item.id}}">
            <view class="product-img-placeholder" style="background-color: {{item.bgColor}};">
              <icon type="{{item.icon}}" size="32" color="#fff"></icon>
            </view>
            <view class="product-info">
              <text class="product-name">{{item.name}}</text>
              <text class="product-desc">{{item.desc}}</text>
              <view class="product-bottom">
                <text class="product-price">¥{{item.price}}</text>
                <view class="add-btn" catchtap="onAddCart" data-product="{{item}}">
                  <text>+</text>
                </view>
              </view>
            </view>
          </view>
        </view>
      </view>

      <view class="bottom-space"></view>
    </scroll-view>
  </view>
</view>
