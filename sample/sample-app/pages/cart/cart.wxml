<view class="page">
  <!-- æ ‡é¢˜ -->
  <view class="header">
    <text class="header-title">ğŸ›’ è´­ç‰©è½¦</text>
  </view>

  <!-- ç©ºè´­ç‰©è½¦ -->
  <view class="empty" wx:if="{{cartItems.length == 0}}">
    <icon type="info" size="64" color="#ccc"></icon>
    <text class="empty-text">è´­ç‰©è½¦æ˜¯ç©ºçš„</text>
    <button type="primary" bindtap="goShopping">å»é€›é€›</button>
  </view>

  <!-- è´­ç‰©è½¦åˆ—è¡¨ -->
  <view class="cart-list" wx:if="{{cartItems.length > 0}}">
    <view class="cart-item" wx:for="{{cartItems}}" wx:key="id">
      <checkbox checked="{{item.selected}}" bindtap="onToggleSelect" data-index="{{index}}" color="#FF6B35"></checkbox>
      <view class="item-icon">
        <icon type="success" size="32" color="#FF6B35"></icon>
      </view>
      <view class="item-info">
        <text class="item-name">{{item.name}}</text>
        <view class="item-row">
          <text class="item-price">Â¥{{item.price}}</text>
          <view class="qty-box">
            <view class="qty-btn" bindtap="onDecrease" data-index="{{index}}">
              <text>-</text>
            </view>
            <text class="qty-num">{{item.quantity}}</text>
            <view class="qty-btn" bindtap="onIncrease" data-index="{{index}}">
              <text>+</text>
            </view>
          </view>
        </view>
      </view>
      <view class="delete-btn" bindtap="onDelete" data-index="{{index}}">
        <icon type="cancel" size="20" color="#999"></icon>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨ç»“ç®— -->
  <view class="checkout" wx:if="{{cartItems.length > 0}}">
    <view class="checkout-left">
      <checkbox checked="{{allSelected}}" bindtap="onToggleAll" color="#FF6B35"></checkbox>
      <text class="select-text">å…¨é€‰</text>
    </view>
    <view class="checkout-right">
      <text class="total-text">åˆè®¡: </text>
      <text class="total-price">Â¥{{totalPrice}}</text>
      <button class="checkout-btn" type="primary" bindtap="onCheckout">ç»“ç®—({{selectedCount}})</button>
    </view>
  </view>

  <view class="bottom-space"></view>
</view>
